{"mappings":"kpBAsBA,IAAuBA,EACDC,mFArBtB,IAAIC,EAAU,GAoBdF,WAlBkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,KAelCL,WAXiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,MCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,yYCAzDC,EAAc,IAAAC,IAAuBL,EAAA,SAAAM,QAA6C,SAAOC,OAAAC,KAAAC,KAAGC,iBCA5FC,EAAc,IAAAN,IAAuBL,EAAA,SAAAM,QAA6C,SAAOC,OAAAC,KAAAC,KAAGC,iBCA5FE,EAAc,IAAAP,IAAuBL,EAAA,SAAAM,QAA6C,SAAOC,OAAAC,KAAAC,KAAGC,iBCA5FG,EAAc,IAAAR,IAAuBL,EAAA,SAAAM,QAA6C,SAAOC,OAAAC,KAAAC,KAAGC,iBCA5FI,EAAc,IAAAT,IAAuBL,EAAA,SAAAM,QAA6C,SAAOC,OAAAC,KAAAC,KAAGC,iBCA5FK,EAAc,IAAAV,IAAuBL,EAAA,SAAAM,QAA6C,SAAOC,OAAAC,KAAAC,KAAGC,4BCe5F,IAAIM,EAAS,CACXC,KAAMC,EAAAC,GAAOC,KACbC,MAAO,CACLC,MANM,IAONC,OANM,IAONC,WAAYN,EAAAC,GAAOM,MAAMC,aAE3BC,MAAO,CACLC,mBASFC,KAAKC,KAAKC,MAAM,OAAQb,EAAAd,IACxByB,KAAKC,KAAKC,MAAM,MAAOb,EAAAP,IACvBkB,KAAKC,KAAKC,MAAM,OAAQb,EAAAN,IACxBiB,KAAKC,KAAKC,MAAM,SAAUb,EAAAL,IAC1BgB,KAAKC,KAAKC,MAAM,OAAQb,EAAAJ,IACxBe,KAAKC,KAAKC,MAAM,SAAUb,EAAAH,KAbxBiB,kBAiBFH,KAAKI,aAAe,IAAIC,EAAAC,QAAaN,MACrCA,KAAKI,aAAaG,KAAI,GACtBP,KAAKQ,OAAQ,EAEbR,KAAKS,MAAMC,GAAG,eAAa,IAAQV,KAAKF,MAAMa,aApB5CC,kBAwBEZ,KAAKI,aAAaS,aACpBC,EAASd,KAAMA,KAAKI,aAAaW,MAAM,GAAI,QAC3Cf,KAAKI,aAAaY,QACRhB,KAAKQ,QACfR,KAAKQ,OAAQ,EACbS,QAAQC,IAAIlB,KAAKI,aAAae,oBAUbrB,EAAOsB,GAC1B,IAAK,MAAMC,KAAQD,EAAKE,SACtBR,EAAShB,EAAOuB,EAAM,OAExBP,EAAShB,EAAOsB,EAAKG,aAAaC,KAAM,QACxCV,EAAShB,EAAOsB,EAAKG,aAAaE,OAAQ,UAC1CX,EAAShB,EAAOsB,EAAKG,aAAaG,KAAM,QAftCC,CAAY3B,KAAMA,KAAKI,aAAae,wBAI/BL,EAAShB,EAAO8B,EAAGC,GAC1B,IAAIC,EAAIF,EAAI,GACZ9B,EAAMiC,IAAI7B,MAAM8B,IAnDJ,IAmDmBF,EAAI,GAAIG,IAlD3B,KAkD2CL,EAAIE,GAAK,GAAK,GAAID,GAhC3E,IAAIxC,EAAAC,GAAO4C,MAAK/C","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c15311ad691e4cde.js","node_modules/@parcel/runtime-js/lib/runtime-475432f6d19ee778.js","node_modules/@parcel/runtime-js/lib/runtime-da8dda8326b75d4c.js","node_modules/@parcel/runtime-js/lib/runtime-9d5f257e99e9de81.js","node_modules/@parcel/runtime-js/lib/runtime-ad94d9d82395be54.js","node_modules/@parcel/runtime-js/lib/runtime-4ca77cb9f4dbbfd4.js","node_modules/@parcel/runtime-js/lib/runtime-4daace9cfd1d56b0.js","src/scenes/testGen.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZWQo\\\":\\\"testGen.70ab7a07.js\\\",\\\"2LiRC\\\":\\\"base.48269514.png\\\",\\\"kxodt\\\":\\\"deadend.3987ca84.png\\\",\\\"9yCZS\\\":\\\"boss.acffb5d6.png\\\",\\\"9nzkS\\\":\\\"reward.43b5748d.png\\\",\\\"dvTiC\\\":\\\"shop.20549b06.png\\\",\\\"hNqy5\\\":\\\"secret.71a6b8ac.png\\\",\\\"38Vsp\\\":\\\"game.3cb32118.js\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2LiRC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kxodt\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9yCZS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9nzkS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dvTiC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hNqy5\")).toString();","import Phaser from 'phaser'\n\nimport cell from '../../assets/minimap/base.png'\nimport deadend from '../../assets/minimap/deadend.png'\nimport boss from '../../assets/minimap/boss.png'\nimport reward from '../../assets/minimap/reward.png'\nimport shop from '../../assets/minimap/shop.png'\nimport secret from '../../assets/minimap/secret.png'\nimport FloorPlanner from '../dungeon/floorPlanner'\n\nconst cellw = 44;\nconst cellh = 44;\nconst W = 418;\nconst H = 418;\n\nlet config = {\n  type: Phaser.AUTO,\n  scale: {\n    width: W,\n    height: H,\n    autoCenter: Phaser.Scale.CENTER_BOTH\n  },\n  scene: {\n    preload: preload,\n    create: create,\n    update: update\n  }\n};\n\nnew Phaser.Game(config);\n\nfunction preload() {\n  this.load.image('cell', cell);\n  this.load.image('end', deadend);\n  this.load.image('boss', boss);\n  this.load.image('reward', reward);\n  this.load.image('shop', shop);\n  this.load.image('secret', secret);\n}\n\nfunction create() {\n  this.floorPlanner = new FloorPlanner(this);\n  this.floorPlanner.run(true);\n  this.drawn = false;\n\n  this.input.on('pointerdown', () => this.scene.restart());\n}\n\nfunction update() {\n  if (this.floorPlanner.isRunning()) {\n    drawCell(this, this.floorPlanner.queue[0], 'cell');\n    this.floorPlanner.step();\n  } else if (!this.drawn) {\n    this.drawn = true;\n    console.log(this.floorPlanner.getPlan());\n    drawDetails(this, this.floorPlanner.getPlan());\n  }\n}\n\nfunction drawCell(scene, n, name) {\n  let x = n % 10;\n  scene.add.image(W/2 + cellw * (x - 5), H/2 + cellh * ((n - x) / 10 - 5), name);\n}\n\nfunction drawDetails(scene, plan) {\n  for (const room of plan.deadEnds) {\n    drawCell(scene, room, 'end');\n  }\n  drawCell(scene, plan.specialRooms.boss, 'boss');\n  drawCell(scene, plan.specialRooms.reward, 'reward');\n  drawCell(scene, plan.specialRooms.shop, 'shop');\n}\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$e37ccba2fd8f5308$exports","URL","resolve","import","meta","url","toString","$64ff831696603f54$exports","$f0be9f77ba2fc5df$exports","$c9c297a3f37e4499$exports","$1766ecb5b1d3c23f$exports","$d01c3946ed8f0dc6$exports","$228ad4ca7324d17a$var$config","type","$parcel$interopDefault","$h0Z20","AUTO","scale","width","height","autoCenter","Scale","CENTER_BOTH","scene","preload","this","load","image","create","floorPlanner","$gK1pN","default","run","drawn","input","on","restart","update","isRunning","$228ad4ca7324d17a$var$drawCell","queue","step","console","log","getPlan","plan","room","deadEnds","specialRooms","boss","reward","shop","$228ad4ca7324d17a$var$drawDetails","n","name","x","add","$228ad4ca7324d17a$var$W","$228ad4ca7324d17a$var$H","Game"],"version":3,"file":"testGen.70ab7a07.js.map"}